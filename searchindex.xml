<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>laravel å¦‚ä½•è‡ªåŠ¨å‘ç°åŒ…</title><url>/post/php-composer-auto-find/</url><categories><category>php</category></categories><tags><tag>php</tag><tag>composer</tag></tags><content type="html">
å¼•å…¥ laravel åœ¨ 5.5 ç‰ˆæœ¬ä»¥å‰ï¼ŒæœåŠ¡æä¾›è€…é€šè¿‡é…ç½®æ–‡ä»¶config/app.phpæ‰‹åŠ¨æ³¨å†Œï¼š
'providers' => [ Intervention\Image\ImageServiceProvider::class, ], laravel >= 5.5å·²å¢åŠ åŒ…è‡ªåŠ¨å‘ç°ï¼Œè¿™æ˜¯å¦‚ä½•åšåˆ°çš„ï¼ŸåŸºäºlaravel 8.5æºç çœ‹çœ‹ã€‚ composer äº‹ä»¶ composer å®šä¹‰äº†ä¸€ç³»åˆ—äº‹ä»¶ï¼Œåœ¨ç‰¹å®šæ¡ä»¶è§¦å‘ï¼Œæ‰§è¡Œä¸€äº›è„šæœ¬ã€‚æ›´å¤šäº‹ä»¶ä¿¡æ¯ï¼ŒğŸ‘‰ä¼ é€é—¨
laravel åŸå§‹composer.jsonæ–‡ä»¶æ‘˜å½•å¦‚ä¸‹ï¼š
{ "scripts": { "post-autoload-dump": [ "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump", "@php artisan package:discover --ansi" ], "post-update-cmd": [ "@php artisan vendor:publish --tag=laravel-assets --ansi" ], "post-root-package-install": [ "@php -r \"file_exists('.env') || copy('.env.example', '.env');\"" ], "post-create-project-cmd": [ "@php artisan key:generate --ansi" ] } } è¿™é‡Œåªçœ‹post-autoload-dumpäº‹ä»¶ï¼Œå½“æ‰§è¡Œcomposer installï¼Œcomposer updateï¼Œcomposer requireï¼Œcomposer dump-autoloadæ—¶è§¦å‘ï¼š
ç”Ÿæˆ packages.php æ–‡ä»¶ laravel è§¦å‘post-autoload-dumpäº‹ä»¶æ—¶ï¼Œæ‰§è¡Œ 2 ä¸ªè„šæœ¬ï¼š
Illuminate\Foundation\ComposerScripts::postAutoloadDump åˆ é™¤bootstrap/cacheä¸‹çš„ 3 ä¸ªç¼“å­˜æ–‡ä»¶
protected static function clearCompiled() { $laravel = new Application(getcwd()); //åˆ  bootstrap/cache/config.php if (is_file($configPath = $laravel->getCachedConfigPath())) { @unlink($configPath); } //åˆ  bootstrap/cache/services.php if (is_file($servicesPath = $laravel->getCachedServicesPath())) { @unlink($servicesPath); } //åˆ  bootstrap/cache/packages.php if (is_file($packagesPath = $laravel->getCachedPackagesPath())) { @unlink($packagesPath); } } php artisan package:discover è¿½è¸ªIlluminate\Foundation\Console\PackageDiscoverCommandï¼š
public function handle(PackageManifest $manifest) { $manifest->build(); foreach (array_keys($manifest->manifest) as $package) { $this->line("Discovered Package: &lt;info>{$package}&lt;/info>"); } $this->info('Package manifest generated successfully.'); } è°ƒç”¨Illuminate\Foundation\PackageManifestç±»buildæ–¹æ³•ï¼Œç”Ÿæˆæ–°çš„packages.phpæ–‡ä»¶ï¼š
public function build() { $packages = []; //è¯» installed.json æ–‡ä»¶ï¼Œè·å–æ‰€æœ‰å·²å®‰è£…å®Œæˆçš„åŒ… if ($this->files->exists($path = $this->vendorPath.'/composer/installed.json')) { $installed = json_decode($this->files->get($path), true); $packages = $installed['packages'] ?? $installed; } // è·å–è¦å‰”é™¤çš„åŒ…åˆ—è¡¨ $ignoreAll = in_array('*', $ignore = $this->packagesToIgnore()); //å°†æ‰€æœ‰éœ€è¦å‘ç°çš„æœåŠ¡æä¾›è€…å†™å…¥ packages.php $this->write(collect($packages)->mapWithKeys(function ($package) { return [$this->format($package['name']) => $package['extra']['laravel'] ?? []]; })->each(function ($configuration) use (&amp;$ignore) { $ignore = array_merge($ignore, $configuration['dont-discover'] ?? []); })->reject(function ($configuration, $package) use ($ignore, $ignoreAll) { return $ignoreAll || in_array($package, $ignore); })->filter()->all()); } æ³¨å†ŒæœåŠ¡æä¾›è€… ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œè¿½è¸ªåˆ°Illuminate\Foundation\Applicationçš„bootstrapWithï¼š
public function bootstrapWith(array $bootstrappers) { $this->hasBeenBootstrapped = true; //å¤„ç†ä¸€äº›åˆå§‹åŒ–å·¥ä½œï¼Œæ¯”å¦‚åŠ è½½åº”ç”¨é…ç½®ï¼Œæ³¨å†Œå¼‚å¸¸å¤„ç†ï¼Œæ³¨å†Œé—¨é¢ç­‰ï¼Œè¿™é‡Œåªå…³æ³¨ \Illuminate\Foundation\Bootstrap\RegisterProvidersï¼Œæ³¨å†ŒæœåŠ¡æä¾›è€… foreach ($bootstrappers as $bootstrapper) { $this['events']->dispatch('bootstrapping: '.$bootstrapper, [$this]); //é€šè¿‡ make ,æ‹¿åˆ° \Illuminate\Foundation\Bootstrap\RegisterProviders å¯¹è±¡ï¼Œæ¥ç€è°ƒç”¨å®ƒçš„ bootstrap æ–¹æ³• $this->make($bootstrapper)->bootstrap($this); $this['events']->dispatch('bootstrapped: '.$bootstrapper, [$this]); } } è¿½è¸ªIlluminate\Foundation\Bootstrap\RegisterProvidersï¼š
public function bootstrap(Application $app) { $app->registerConfiguredProviders(); } è¿½è¸ªIlluminate\Foundation\Applicationçš„registerConfiguredProvidersï¼Œè¿™é‡Œç”¨ä¸Šäº†å‰é¢ç”Ÿæˆçš„packages.phpæ–‡ä»¶ï¼š
public function registerConfiguredProviders() { $providers = Collection::make($this->make('config')->get('app.providers')) ->partition(function ($provider) { return strpos($provider, 'Illuminate\\') === 0; }); //æŠŠ config/app.php é…ç½®çš„æœåŠ¡æä¾›è€…å’Œ packages.php é‡Œçš„æœåŠ¡æä¾›è€…åˆå¹¶ $providers->splice(1, 0, [$this->make(PackageManifest::class)->providers()]); (new ProviderRepository($this, new Filesystem, $this->getCachedServicesPath())) ->load($providers->collapse()->toArray()); } æœ€åè°ƒç”¨Illuminate\Foundation\ProviderRepositoryçš„loadæ–¹æ³•ï¼Œå†è°ƒç”¨Illuminate\Foundation\Applicationçš„registerï¼Œå¼€å§‹æ³¨å†ŒæœåŠ¡æä¾›è€…ï¼Œéšæ—¶å–ç”¨ã€‚
è‡³æ­¤ï¼Œå®ç°åŒ…çš„è‡ªåŠ¨å‘ç°ã€‚ æ€»ç»“ å¼„æ¸… composer äº‹ä»¶çš„è§¦å‘æ¡ä»¶ï¼Œå¯ä»¥åˆ©ç”¨æ­¤å†™ä¸€äº›ä¸Šçº¿éƒ¨ç½²è„šæœ¬ è‡ªå·±å†™çš„åŒ…ï¼Œå¦‚æœæƒ³è¢« laravel è‡ªåŠ¨å‘ç°ï¼Œå¯ä»¥åœ¨ã€ŒåŒ…ã€çš„composer.jsonæ–‡ä»¶åŠ ï¼š { "extra": { "laravel": { "providers": [ "Intervention\\Image\\ImageServiceProvider" ], "aliases": { "Image": "Intervention\\Image\\Facades\\Image" } } } } é€šè¿‡æºç å¯çŸ¥ï¼Œå¦‚æœä¸æƒ³åŒ…è‡ªåŠ¨å‘ç°ï¼Œå¯ä»¥åœ¨ laravel çš„composer.jsonæ–‡ä»¶é‡ŒåŠ ï¼š { "extra": { "laravel": { "dont-discover": [ "intervention/image" //ä¸æƒ³è¦çš„åŒ… ] } } }</content></entry><entry><title>å¦‚ä½•ã€Œè‡ªåŠ¨ã€æ•è·å¼‚å¸¸å¤„ç†</title><url>/post/php-exception/</url><categories><category>php</category></categories><tags><tag>php</tag></tags><content type="html">
å¼•å…¥ å¤§å®¶éƒ½ç”¨è¿‡ try/catchÂ ï¼Œå®ƒå¯ä»¥ä½¿ä»£ç æ›´å¥å£®ï¼Œæ•è·é”™è¯¯åä¹Ÿå¯ä»¥è§¦å‘ä¸€äº›ä¸ŠæŠ¥æœºåˆ¶ï¼Œæ¯”å¦‚è®°æ—¥å¿—ï¼Œé‚®ä»¶æé†’ç­‰ã€‚åŒæ—¶è¿˜èƒ½å¸¦æ¥ä¸€äº›ä¾¿åˆ©ï¼Œæ¯”å¦‚ä½¿ç”¨ laravelÂ ã€Œäº‹åŠ¡å¤„ç†ã€çš„æ—¶å€™ï¼Œä¸ç”¨å¯¹æ¯æ¬¡çš„æ‰§è¡Œç»“æœè¿›è¡Œåˆ¤æ–­ï¼Œç›´æ¥åœ¨ catchÂ ä¸­å›æ»šã€‚
å…ˆçœ‹ä¸€æ®µ PHPÂ åŸç”Ÿä»£ç ï¼š
$num = 0; try { echo 1 / $num; //é™¤æ•°ä¸º0 } catch (Exception $e) { echo 2; } æ‰§è¡Œåå‘ç°ï¼Œå¹¶æ²¡æœ‰è¿›å…¥åˆ° catchÂ å—ï¼Œè€Œæ˜¯æ˜¾ç¤ºäº†é”™è¯¯ä¿¡æ¯ï¼š Warning: Division by zero in xxxÂ ã€‚
ä½†æ˜¯è¿™æ®µä»£ç åœ¨å¤§éƒ¨åˆ†ã€Œæ¡†æ¶ã€ä¸­éƒ½èƒ½è¿›å…¥åˆ° catchÂ å—ï¼Œæ­£å¸¸è¾“å‡º 2 ã€‚æ€ä¹ˆåšåˆ°çš„ï¼Ÿ é”™è¯¯ç±»å‹ å…³äº PHP çš„é”™è¯¯ç±»å‹å’Œç›¸å…³è¯´æ˜ï¼Œå®˜æ–¹æ–‡æ¡£
æœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜ï¼Œä¸»è¦æŠ¥ä»¥ä¸‹å‡ ç§é”™ï¼š
Fatal Error ï¼šè‡´å‘½é”™è¯¯ï¼›åé¢è„šæœ¬ç»ˆæ­¢è¿è¡Œï¼›æ¯”å¦‚è°ƒç”¨çš„å‡½æ•°ä¸å­˜åœ¨ Parse Error ï¼šè¯­æ³•é”™è¯¯ï¼›åé¢è„šæœ¬ç»ˆæ­¢è¿è¡Œï¼›æ¯”å¦‚å°‘ä¸ªåˆ†å· Warning Error ï¼šè­¦å‘Šé”™è¯¯ï¼›è„šæœ¬ä¸ç»ˆæ­¢è¿è¡Œï¼›æ¯”å¦‚é™¤æ•°ä¸º 0 Notice Error ï¼šé€šçŸ¥é”™è¯¯ï¼›è„šæœ¬ä¸ç»ˆæ­¢è¿è¡Œï¼›æ¯”å¦‚æ‰“å°ä¸€ä¸ªæœªå®šä¹‰çš„å˜é‡ã€‚ Notice Error ç¨‹åº¦æ¯” Warning Error ä½ è‡ªåŠ¨æ•è·å¼‚å¸¸åŸç† ä¸‰ä¸ªå‡½æ•° å®ç°è‡ªåŠ¨æ•è·å¼‚å¸¸ï¼Œä¸»è¦æ˜¯ä½¿ç”¨äº† 3 ä¸ªå…³é”®çš„å‡½æ•°ï¼š
set_error_handler()
æ­¤å‡½æ•°å¯ä»¥ç”¨ä½ è‡ªå®šä¹‰çš„æ–¹å¼æ¥å¤„ç†è¿è¡Œä¸­çš„é”™è¯¯ã€‚å½“ç¨‹åºå‡ºç° éƒ¨åˆ†ç±»å‹ é”™è¯¯æ—¶ï¼Œä¼š è‡ªåŠ¨ è°ƒç”¨ä½ è®¾ç½®çš„æ–¹æ³•ï¼š
&lt;?php set_error_handler(function(){ echo "æ•è·"; }); $num = 0; echo 1 / $num; //æ‰§è¡Œå,è¾“å‡º"æ•è·" æ³¨æ„ï¼šÂ set_error_handlerÂ å‡½æ•°åªèƒ½æ•è·ç³»ç»Ÿäº§ç”Ÿçš„ä¸€äº› WarningÂ ã€ NoticeÂ çº§åˆ«çš„é”™è¯¯ï¼Œå¯¹äºå…¶ä»–ç±»å‹æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚
trigger_errorÂ å‡½æ•° ï¼šç”¨æˆ·ä¸»åŠ¨äº§ç”Ÿä¸€ä¸ªç”¨æˆ·çº§åˆ«çš„ error/warning/noticeÂ ä¿¡æ¯ï¼Œè¿™ä¹Ÿèƒ½è¢«æ•è·åˆ°ï¼š
&lt;?php set_error_handler(function(){ echo "æ•è·"; }); trigger_error("å¼‚å¸¸",E_USER_ERROR); //æ‰§è¡Œå,è¾“å‡º"æ•è·" å¯ä»¥ç”¨ set_error_handlerÂ æ³¨å†Œå¤šä¸ªé”™è¯¯å¤„ç†å‡½æ•°ï¼Œä½†æ˜¯åæ³¨å†Œçš„ä¼š è¦†ç›– å‰ä¸€ä¸ªï¼š
&lt;?php set_error_handler(function(){ echo "æ•è·"; }); set_error_handler(function(){ echo "æ•è·2"; }); $num = 0; echo 1 / $num; //æ‰§è¡Œå,è¾“å‡º"æ•è·2" register_shutdown_function()
æ³¨å†Œä¸€ä¸ªä¼šåœ¨ PHPÂ ä¸­æ­¢æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚å¤šæ¬¡è°ƒç”¨ register_shutdown_function()Â ï¼Œè¿™äº›è¢«æ³¨å†Œçš„å›è°ƒä¼šæŒ‰ç…§ä»–ä»¬**ã€Œæ³¨å†Œæ—¶çš„é¡ºåºè¢«ä¾æ¬¡è°ƒç”¨ã€ï¼š**
&lt;?php register_shutdown_function(function(){ echo "ç»“æŸ1"; }); register_shutdown_function(function(){ echo "ç»“æŸ2"; }); echo 'å¼€å§‹';//æ‰§è¡Œå,è¾“å‡º"å¼€å§‹ç»“æŸ1ç»“æŸ2" set_exception_handler()
è®¾ç½®é»˜è®¤çš„å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œç”¨äºæ²¡æœ‰ç”¨ try/catchÂ å—æ¥æ•è·çš„å¼‚å¸¸ã€‚
&lt;?php set_exception_handler(function(){ echo 'æ•è·'; }); throw new Exception("å¼‚å¸¸"); //æŠ›å‡ºå¼‚å¸¸,æ²¡æœ‰æ‰‹åŠ¨æ•è·. //æ‰§è¡Œå,è¾“å‡º"æ•è·" ä¹Ÿå¯ä»¥æ³¨å†Œå¤šä¸ªï¼Œåæ³¨å†Œçš„ä¼š è¦†ç›– å‰ä¸€ä¸ªï¼š
&lt;?php set_exception_handler(function(){ echo 'æ•è·1'; }); set_exception_handler(function(){ echo 'æ•è·2'; }); throw new Exception("å¼‚å¸¸");//æ‰§è¡Œå,è¾“å‡º"æ•è·2" æ¡†æ¶å®ç° äº†è§£äº†ä¸Šè¿°ä¸‰ä¸ªå‡½æ•°çš„ä½œç”¨ï¼Œçœ‹çœ‹ laravelÂ æ˜¯æ€ä¹ˆè”åˆä½¿ç”¨ä¸Šè¿°å‡½æ•°ï¼Œè¾¾åˆ°ã€Œè‡ªåŠ¨æ•è·å¼‚å¸¸ã€ç›®çš„ã€‚
ä¸€å¼€å§‹å°±åœ¨ app.phpÂ ä¸­ç»‘å®šäº†å…·ä½“çš„å¼‚å¸¸å¤„ç†ç±»ï¼š
&lt;?php $app->singleton( Illuminate\Contracts\Debug\ExceptionHandler::class, App\Exceptions\Handler::class //å…·ä½“çš„å¼‚å¸¸å¤„ç†ç±» ); æ¥ç€ï¼Œåœ¨ bootstrapÂ é˜¶æ®µçš„ Illuminate\Foundation\Bootstrap\HandleExceptionsÂ éƒ¨åˆ†ä¸­è®¾ç½®äº†ç³»ç»Ÿå¼‚å¸¸å¤„ç†è¡Œä¸ºå¹¶æ³¨å†Œäº†å…¨å±€çš„å¼‚å¸¸å¤„ç†å™¨ï¼š
&lt;?php class HandleExceptions { public function bootstrap(Application $app) { $this->app = $app; error_reporting(-1);//æŠ¥å‘Šæ‰€æœ‰é”™è¯¯ //è‡ªå®šä¹‰é”™è¯¯å¤„ç†å‡½æ•°ï¼Œå½“é‡åˆ° Warning ã€ Notice çº§åˆ«çš„é”™è¯¯,è‡ªåŠ¨è°ƒç”¨ handleError set_error_handler([$this, 'handleError']); //å½“æœ‰æœªæ•è·çš„é”™è¯¯æ—¶,è‡ªåŠ¨è°ƒç”¨ handleException set_exception_handler([$this, 'handleException']); //å½“ç¨‹åºç»ˆæ­¢çš„æ—¶å€™,è‡ªåŠ¨è°ƒç”¨ handleShutdown register_shutdown_function([$this, 'handleShutdown']); } } å½“é‡åˆ° Warningï¼Œ Noticeçº§åˆ«çš„é”™è¯¯ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ handleErrorÂ æ–¹æ³•ï¼Œç”±æ¡†æ¶å¸®ä½ æŠ›å‡ºå¼‚å¸¸ï¼š
&lt;?php public function handleError($level, $message, $file = '', $line = 0, $context = []) { if (error_reporting() &amp; $level) { //æŠ›å‡ºçš„å¼‚å¸¸,å¦‚æœæ²¡æœ‰æ•è·,åˆä¼šè‡ªåŠ¨è°ƒç”¨ handleException æ–¹æ³•,è®© handleException å¤„ç† throw new ErrorException($message, 0, $level, $file, $line); } } å½“é‡åˆ° é Warningï¼Œ Noticeçº§åˆ«çš„é”™è¯¯ï¼Œå¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼Œç»ˆæ­¢å‰ä¼šè°ƒç”¨ handleShutdownÂ æ–¹æ³•ï¼š
&lt;?php public function handleShutdown() { if (! is_null($error = error_get_last()) &amp;&amp; $this->isFatal($error['type'])) { //é€šè¿‡ error_get_last è·å–æœ€åå‘ç”Ÿçš„é”™è¯¯,æ¥ç€æŠŠé”™è¯¯äº¤ç»™ handleException å¤„ç† $this->handleException($this->fatalExceptionFromError($error, 0)); } } æœ€ç»ˆï¼Œæ‰€æœ‰æœªæ•è·çš„å¼‚å¸¸éƒ½é€šè¿‡ handleExceptionÂ é›†ä¸­å¤„ç†ï¼š
&lt;?php public function handleException($e) { if (! $e instanceof Exception) { $e = new FatalThrowableError($e); } try { //ä¸ŠæŠ¥é”™è¯¯,åœ¨è¿™é‡Œè®°å½•æ—¥å¿—,å­˜åˆ° storage/laravel.log é‡Œ $this->getExceptionHandler()->report($e); } catch (Exception $e) { // } //å“åº”å¼‚å¸¸ if ($this->app->runningInConsole()) { //æ¸²æŸ“ CLI è¯·æ±‚çš„å¼‚å¸¸å“åº” $this->renderForConsole($e); } else { //æ¸²æŸ“ HTTP è¯·æ±‚çš„å¼‚å¸¸å“åº” $this->renderHttpResponse($e); } } ç¨å¾®æ€»ç»“ä¸‹ï¼š
é€šè¿‡ set_error_handlerÂ è®¾ç½®äº†handleErrorÂ æ–¹æ³•ï¼Œå½“å‡ºç° WarningÂ ï¼Œ NoticeÂ çº§åˆ«çš„é”™è¯¯ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œåœ¨ handleErrorÂ ä¸­æŠ›å‡ºå¼‚å¸¸ã€‚æŠ›å‡ºçš„å¼‚å¸¸å¦‚æœæ²¡æœ‰è¢«æ•è·ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨é€šè¿‡ set_exception_handlerÂ è®¾ç½®çš„ handleExceptionÂ æ–¹æ³•ï¼Œå°†å¼‚å¸¸äº¤ç»™å®ƒå¤„ç† å½“å‡ºç°é Warningï¼Œ NoticeÂ çº§åˆ«çš„é”™è¯¯ï¼Œå¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ register_shutdown_functionÂ æ³¨å†Œçš„ handleShutdownÂ æ–¹æ³•ï¼Œè·å–åˆ°æœ€åå‘ç”Ÿçš„é”™è¯¯åï¼ŒæŠŠé”™è¯¯äº¤ç»™ handleExceptionÂ æ–¹æ³•å¤„ç† handleExceptionÂ æ–¹æ³•é›†ä¸­å¤„ç†å¼‚å¸¸ã€‚è®°å½•æ—¥å¿—ï¼Œå“åº”è¯·æ±‚ç­‰ã€‚ è‡³æ­¤ï¼Œ laravelÂ å®ç°äº†ã€Œè‡ªåŠ¨ã€æ•è·å¼‚å¸¸ã€‚
æ³¨æ„ï¼šä¸‹é¢çš„ä»£ç æˆ‘ä¸€ç›´æœ‰ä¸ªè¯¯åŒºï¼šå½“è°ƒç”¨ A() å‡½æ•°ï¼Œå› ä¸º A å‡½æ•°ä¸å­˜åœ¨ï¼Œä¼šå‡ºç°è‡´å‘½é”™è¯¯ï¼Œç¨‹åºç»ˆæ­¢è¿è¡Œï¼Œæ¥ç€è°ƒç”¨ register_shutdown_function æ³¨å†Œçš„å›è°ƒæ–¹æ³•ï¼Œé‡Œé¢æŠ›å‡ºå¼‚å¸¸ï¼Œç„¶åä¼šè¢« catch æ•è·ï¼Œè¾“å‡º333ï¼Œå…¶å®è¿™æ˜¯ä¸å¯¹çš„ã€‚å› ä¸ºå‘ç”Ÿè‡´å‘½é”™è¯¯ï¼Œç¨‹åºå·²ç»ä¸­æ–­æ‰§è¡Œäº†ï¼Œä¸ä¼šè¿›å…¥åˆ° catch å—ã€‚
register_shutdown_function(function (){ throw new \Exception(333); }); try{ echo A(); }catch (\Exception $e){ echo $e->getMessage(); //ä¸ä¼šè¿›å…¥åˆ°è¿™é‡Œçš„ } æ‰©å±•ä¸‹ ã€ŠModern PHPã€‹æå‡ºäº†å››ä¸ªè§„åˆ™ï¼š
ä¸€å®šè¦è®© PHP æŠ¥å‘Šé”™è¯¯ï¼› åœ¨å¼€å‘ç¯å¢ƒä¸­è¦æ˜¾ç¤ºé”™è¯¯ï¼› åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸èƒ½æ˜¾ç¤ºé”™è¯¯ï¼› åœ¨å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸­éƒ½è¦è®°å½•é”™è¯¯ï¼› php.iniÂ æ–‡ä»¶æ¨èé…ç½®ï¼š
### å¼€å‘ç¯å¢ƒ display_errors = On display_startup_error = On error_reporting = -1 log_errors = On ### ç”Ÿäº§ç¯å¢ƒ display_errors = Off display_startup_error = Off ; æŠ¥å‘Š Notice ä»¥å¤–çš„æ‰€æœ‰é”™è¯¯ error_reporting = E_ALL &amp; ~E_NOTICE log_errors = On å‚è€ƒ PHPå®˜æ–¹æ–‡æ¡£
laravelå†…æ ¸åˆ†æ</content></entry><entry><title>Markdownè¯­æ³•æ‰‹å†Œ</title><url>/post/markdown-syntax/</url><categories><category>themes</category><category>syntax</category></categories><tags><tag>markdown</tag><tag>css</tag><tag>html</tag></tags><content type="html"> æœ¬æ–‡æä¾›äº†ä¸€ä¸ªå¯ä»¥åœ¨ Hugo å†…å®¹æ–‡ä»¶ä¸­ä½¿ç”¨çš„åŸºæœ¬Markdownè¯­æ³•ç¤ºä¾‹ï¼Œè¿˜å±•ç¤ºäº†åŸºæœ¬ HTML å…ƒç´ åœ¨ Hugo ä¸»é¢˜ä¸­æ˜¯å¦ä½¿ç”¨ CSS è£…é¥°ã€‚
æ ‡é¢˜ ä¸‹é¢çš„ HTML ä»£ç &lt;h1>â€”&lt;h6> å…ƒç´ è¡¨ç¤ºå…­ä¸ªçº§åˆ«çš„èŠ‚æ ‡é¢˜ã€‚ &lt;h1>æ˜¯æœ€é«˜çš„èŠ‚çº§åˆ«ï¼Œ&lt;h6>æ˜¯æœ€ä½çš„èŠ‚çº§åˆ«ã€‚
H1 H2 H3 H4 H5 H6 æ®µè½ ç”Ÿæ´»æ˜¯ä»€ä¹ˆï¼Ÿç”Ÿæ´»æ˜¯æŸ´ç±³æ²¹ç›çš„å¹³æ·¡ï¼›æ˜¯è¡Œè‰²åŒ†åŒ†æ—©å‡ºæ™šå½’çš„å¥”æ³¢ï¼›ç”Ÿæ´»æ˜¯é”™çš„æ—¶é—´é‡åˆ°å¯¹çš„äººçš„é—æ†¾ï¼›æ˜¯çˆ±çš„ä»˜å‡ºä¸å›æŠ¥ï¼›ç”Ÿæ´»æ˜¯çœ‹ä¸åŒçš„é£æ™¯ï¼Œé‡åˆ°ä¸åŒçš„äººï¼›æ˜¯è¡Œè‡³æ°´ç©·å°½ï¼Œåçœ‹äº‘èµ·æ—¶çš„å³°å›è·¯è½¬ï¼›ç”Ÿæ´»æ˜¯çµé­‚ç»å†ä¼¤ç—›åçš„å¾®ç¬‘æ€’æ”¾ï¼›æ˜¯æŒ«æŠ˜åå·è¢«æ™¾æ™’åçš„åšå¼ºï¼›ç”Ÿæ´»æ˜¯é…¸ç”œè‹¦è¾£è¢«å²æœˆæ²‰æ·€åçš„é¦¨é¦™ï¼›æ˜¯ç»å†é£éœœé›ªé›¨æ´—ç¤¼åçš„æ‡‚å¾—ï¼›ç”Ÿæ´»æ˜¯èµ°éåƒå±±ä¸‡æ°´åï¼Œå›çœ¸ä¸€ç¬‘çš„æ´’è„±ã€‚
æœ‰äº›äº‹ï¼ŒçŒä¸åŠé˜²ï¼Œä¸ç®¡ä½ åœ¨ä¸åœ¨ä¹ï¼›æœ‰äº›äººï¼Œå¹¶éæ‰€æƒ³ï¼Œä¸ç®¡ä½ æ˜ä¸æ˜ç™½ï¼›æœ‰äº›è·¯ï¼Œå¿…é¡»å¾—èµ°ï¼Œä¸ç®¡ä½ æ„¿ä¸æ„¿æ„ã€‚ä¸æ€•äº‹ï¼Œä¸æƒ¹äº‹ï¼Œä¸é¿äº‹ï¼Œåšå¥½è‡ªå·±ï¼Œç”¨çœŸå¿ƒé¢å¯¹ä¸€åˆ‡ï¼›å°‘åŸ‹æ€¨ï¼Œå°‘æŒ‡è´£ï¼Œå°‘å‘ç«ï¼Œå­¦ä¼šæ²‰é™ï¼Œç”¨å¾®ç¬‘è€ƒé‡ä¸€åˆ‡ï¼›å¤šä½“å¯Ÿï¼Œå¤šåŒ…å®¹ï¼Œå¤šæ€ç´¢ï¼Œå°½å¿ƒå°½åŠ›ï¼Œè™½ç¼ºæ†¾ä½†æ— æ‚”ã€‚åƒè’²å…¬è‹±ä¸€æ ·ç¾ä¸½ï¼Œè™½è½»ç›ˆï¼Œä½†å¹¶ä¸å‘å¾®ï¼Œå®ƒæœ‰è‡ªå·±çš„ç”Ÿå‘½ï¼Œä¹Ÿæœ‰è‡ªå·±çš„ä¸–ç•Œï¼
å¼•ç”¨ blockquote å…ƒç´ è¡¨ç¤ºä»å¦ä¸€ä¸ªæ¥æºå¼•ç”¨çš„å†…å®¹ï¼Œå¯é€‰çš„å¼•ç”¨å¿…é¡»åœ¨ footer æˆ– citeå…ƒç´ å†…ï¼Œä¹Ÿå¯é€‰çš„å†…åµŒæ›´æ”¹ï¼Œå¦‚æ³¨é‡Šå’Œç¼©å†™ã€‚
å¼•ç”¨æ²¡æœ‰å½’å± è¯»æ‡‚è‡ªæˆ‘ï¼Œå¸¦ç€ç®€å•çš„å¿ƒæƒ…ï¼Œçœ‹å¤æ‚çš„äººç”Ÿï¼Œèµ°åå·çš„è·¯ï¼
æ³¨æ„ï¼š å¯ä»¥åœ¨å—å¼•ç”¨ä¸­ä½¿ç”¨ Markdown è¯­æ³•ã€‚
è¡¨æ ¼ è¡¨ä¸æ˜¯Markdownæ ¸å¿ƒè§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯Hugoæ”¯æŒå¼€ç®±å³ç”¨ã€‚
Name Age Bob 27 Alice 23 è¡¨æ ¼å†…ä½¿ç”¨Markdownè¯­æ³• Italics Bold Code italics bold code å›¾åƒ ![å›¾åƒæè¿°](å›¾åƒåœ°å€) ç¤ºä¾‹ å¸¸è§„ç”¨æ³• SVGå›¾åƒ Google Chrome
Firefox Browser
å°å›¾æ ‡ ç‚¹å‡»å›¾åƒå¯ä»¥æ‰“å¼€å›¾åƒæµè§ˆå™¨ï¼Œå¿«è¯•è¯•å§ã€‚
ä»£ç å— å¸¦æœ‰å¼•å·çš„ä»£ç å— &lt;!doctype html> &lt;html lang="en"> &lt;head> &lt;meta charset="utf-8"> &lt;title>Example HTML5 Document&lt;/title> &lt;/head> &lt;body> &lt;p>Test&lt;/p> &lt;/body> &lt;/html> ç”¨å››ä¸ªç©ºæ ¼ç¼©è¿›çš„ä»£ç å— &lt;!doctype html>
&lt;html lang="en">
&lt;head>
&lt;meta charset="utf-8">
&lt;title>Example HTML5 Document&lt;/title>
&lt;/head>
&lt;body>
&lt;p>Test&lt;/p>
&lt;/body>
&lt;/html>
ä»£ç å—å¼•ç”¨Hugoçš„å†…éƒ¨é«˜äº®çŸ­ä»£ç  &lt;!doctype html> &lt;html lang="en"> &lt;head> &lt;meta charset="utf-8"> &lt;title>Example HTML5 Document&lt;/title> &lt;/head> &lt;body> &lt;p>Test&lt;/p> &lt;/body> &lt;/html> åˆ—è¡¨ç±»å‹ æœ‰åºåˆ—è¡¨ First item Second item Third item æ— åºåˆ—è¡¨ List item Another item And another item åµŒå¥—åˆ—è¡¨ Fruit Apple Orange Banana Dairy Milk Cheese å…¶ä»–å…ƒç´  â€” abbr, sub, sup, kbd, mark GIF æ˜¯ä½å›¾å›¾åƒæ ¼å¼ã€‚
H2O
Xn + Yn = Zn
æŒ‰ CTRL+ALT+Delete ç»„åˆé”®ç»“æŸä¼šè¯ã€‚
å¤§å¤šæ•°è¾èˆåœ¨å¤œé—´æ´»åŠ¨ï¼Œæ•é£Ÿæ˜†è™«ã€è •è™«å’Œå…¶ä»–å°åŠ¨ç‰©ã€‚</content></entry><entry><title>å…³äºæˆ‘</title><url>/about.html</url><categories/><tags/><content type="html"> 91 å¹´ç”Ÿäººï¼Œå¤©èç”·ï¼Œåæ ‡æ­¦æ±‰ã€‚
2014 å¹´æœ¬ç§‘æ¯•ä¸šï¼Œä¸“ä¸šè®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ï¼Œæˆä¸ºç ä»”ç®—æ˜¯ä¸“ä¸šå¯¹å£ã€‚
2015 è‡³ä»Š éƒ½åœ¨å†™ phpï¼Œ2021 å¹´ç»“è¯† go ã€‚
å…´è¶£ä½¿ç„¶çš„ç ä»”ï¼Œè®°å½•å¹³å‡¡çš„ç”Ÿæ´»ã€‚</content></entry></search>